{"componentChunkName":"component---src-templates-blog-post-js","path":"/side-project/project-pixel/3-boiler-plate/","result":{"data":{"site":{"siteMetadata":{"title":"하일의 작업실"}},"markdownRemark":{"id":"67227912-ae5f-5311-b460-85a37bc5f398","excerpt":"당신의 작업실 프로젝트 링크: https://pixel-workroom.herokuapp.com/ 프로젝트 깃허브 저장소 링크 : https://github.com/ha-il/project-pixel 1. 바벨 환경 구축하기 이번 프로젝트에서 바벨은 NodeJS…","html":"<ul>\n<li><strong>당신의 작업실 프로젝트 링크</strong>: <a href=\"https://pixel-workroom.herokuapp.com/\">https://pixel-workroom.herokuapp.com/</a></li>\n<li><strong>프로젝트 깃허브 저장소 링크</strong> : <a href=\"https://github.com/ha-il/project-pixel\">https://github.com/ha-il/project-pixel</a></li>\n</ul>\n<h2>1. 바벨 환경 구축하기</h2>\n<p>이번 프로젝트에서 바벨은 <strong>NodeJS가 최신 자바스크립트 코드를 이해할 수 있도록 컴파일하기 위해서</strong> 필요했습니다. 바벨 사이트의 <a href=\"https://babeljs.io/setup#installation\">Setup</a> 을 보면서 바벨 환경을 구축했습니다. 순서는 아래와 같습니다.</p>\n<ol>\n<li>babel.core를 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev @babel/core</code></pre></div>\n<ol start=\"2\">\n<li>\n<p>루트 디렉터리에 <code class=\"language-text\">babel.config.json</code>파일을 생성합니다.</p>\n</li>\n<li>\n<p>bael/preset-env를 설치합니다.</p>\n</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install @babel/preset-env --save-dev</code></pre></div>\n<ol start=\"4\">\n<li><code class=\"language-text\">babel.config.json</code>에 아래와 같이 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  \"presets\": [\"@babel/preset-env\"]\n}</code></pre></div>\n<ol start=\"5\">\n<li><code class=\"language-text\">package.json</code>파일의 <code class=\"language-text\">scripts</code>에 아래와 같이 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"scripts\": {\n    \"dev:server\": \"babel-node src/server.js\"\n},</code></pre></div>\n<p>이렇게 스크립트를 작성하면 <code class=\"language-text\">npm run dev:server</code>를 실행할 때마다 babel-node가 경로로 설정해준 파일을 실행합니다.</p>\n<p>하지만, 경로의 파일에서 코드를 수정했을 때, 해당 수정 사항이 반영된 파일을 실행시키려면 <strong>스크립트를 다시 실행해야 하는 불편함</strong>이 있었습니다.</p>\n<p>이런 불편함을 해소하기 위해 노드몬을 사용하기로 했습니다.</p>\n<h2>2. 노드몬 환경 구축하기</h2>\n<p>노드몬은 <strong>설정한 디렉터리의 파일 변경이 감지되면 Node 애플리케이션을 자동으로 다시 시작해주는 도구</strong>입니다. 노드몬을 사용하여 바벨을 실행시키는 방법 역시 바벨 사이트의 <a href=\"https://babeljs.io/setup#installation\">Setup</a>에 나와 있습니다. 노드몬 환경 구축 과정은 아래와 같습니다.</p>\n<ol>\n<li><a href=\"https://github.com/remy/nodemon\">nodenon</a>을 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i nodemon --save-dev</code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">package.json</code>파일의 <code class=\"language-text\">scripts</code>를 아래와 같이 수정합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"scripts\": {\n    \"dev:server\": \"nodemon --exec babel-node src/server.js\"\n},</code></pre></div>\n<p>위와 같이 설정해주면, babel-node를 실행시킬 경로에 있는 파일을 수정했을 경우 해당 파일을 자동으로 다시 시작해줍니다.</p>\n<h2>3. 웹팩 환경 구축하기</h2>\n<p>이번 프로젝트는 main.js에 모든 파일을 작성하는 것이 아니라, 자바스크립트 코드를 모듈화하여 여러 개의 자바스크립트 파일을 작성하여 진행할 계획이었습니다. 그렇기 때문에 <strong>여러 개의 파일을 하나의 번들로 묶어주는 모듈 번들러</strong>인 웹팩이 필요했습니다.</p>\n<p>웹팩은 여러개의 파일을 하나의 번들로 묶어주기 때문에, <strong>파일 수를 줄여서 네트워크 비용을 절감</strong>할 수 있고 <strong>초기 로딩 속도를 향상</strong>시킬 수 있다는 장점이 있습니다. 웹팩을 사용하는 이유에 대해서 궁금한 점은 웹팩 사이트의 <a href=\"https://webpack.kr/concepts/why-webpack/\">Why webpack</a>을 읽어보면 더 자세히 알 수 있습니다.</p>\n<p>웹팩 환경 설정은 웹팩 홈페이지의 <a href=\"https://webpack.js.org/guides/getting-started/#npm-scripts\">Getting Started</a>를 보면서 진행했습니다. 순서는 아래와 같습니다.</p>\n<ol>\n<li>webpack과 webpack-cli를 설치합니다.</li>\n</ol>\n<p>(웹팩 v4 이상을 사용 중이고 커맨드 라인에서 웹팩을 호출하려는 경우 CLI도 설치해야 합니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev webpack webpack-cli</code></pre></div>\n<ol start=\"2\">\n<li>루트 디렉터리에 <code class=\"language-text\">webpack.config.js</code> 파일을 생성하고 아래와 같이 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// entry는 웹팩을 적용할 파일을 의미함.</span>\n  <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">main</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/client/js/main.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// output은 웹팩 적용 후에 생성되는 파일을 의미함.</span>\n  <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"js/[name].js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"assets\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">clean</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"3\">\n<li><code class=\"language-text\">package.json</code>파일의 <code class=\"language-text\">scripts</code>에 아래와 같이 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"scripts\": {\n    \"dev:server\": \"babel-node src/server.js\",\n    \"dev:assets\": \"webpack\"\n},</code></pre></div>\n<p>여기까지 진행하면 웹팩 환경 설정을 통해 프론트엔드의 자바스크립트 파일의 모듈을 번들링했지만, 해당 파일들의 코드 중에는 <strong>브라우저가 이해할 수 없는 최신 코드</strong>가 있을 수 있습니다.</p>\n<p>따라서, <code class=\"language-text\">webpack.config.js</code> 파일에 <strong>바벨</strong>을 사용할 수 있도록 설정하여 <strong>코드의 호환성</strong>을 높여야 합니다. 웹팩의 바벨 설정은 <a href=\"https://github.com/babel/babel-loader\">babel-loader</a> 를 보고 작성했습니다. 순서는 아래와 같습니다.</p>\n<ol>\n<li><code class=\"language-text\">babel-loader</code>를 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -D babel-loader</code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">webpack.config.js</code>에 아래와 같이 <code class=\"language-text\">mode</code>와 <code class=\"language-text\">module</code>을 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">main</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/client/js/main.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 모드를 development로 설정하면 개발 중에는 babel을 적용하지 않음</span>\n  <span class=\"token comment\">// 배포할 때는 production 모드로 설정하면 됨</span>\n  <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">'development'</span>\n  <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"js/[name].js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"assets\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">clean</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 모든 js파일에 대해서 babel/preset-env를 적용</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.js$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">loader</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel-loader\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">presets</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2>4. SCSS 환경 구축하기</h2>\n<p>SCSS를 사용하면 CSS 코드를 중첩해서 사용할 수 있기 때문에 <strong>CSS코드를 구조화</strong>해서 볼 수 있어서 조금 더 직관적이라는 장점이 있습니다. 그리고 <strong>변수</strong>를 사용할 수 있어서 코드를 작성하고 수정할 때 더 편리합니다. SCSS를 사용하기 위해서는 웹팩을 통해 설정을 해줘야 하는데 그때 필요한 로더가 3가지 있습니다.</p>\n<ul>\n<li><a href=\"https://github.com/webpack-contrib/sass-loader\">sass-loader</a>: SCSS파일을 CSS로 컴파일하는 로더</li>\n<li><a href=\"https://webpack.js.org/loaders/css-loader/\">css-loader</a>: @import 및 url()을 import/require()와 같이 해석해주는 로더</li>\n<li><a href=\"https://webpack.js.org/loaders/style-loader/\">style-loader</a>: DOM에 CSS를 삽입하는 로더</li>\n</ul>\n<p>이 로더들을 설치하는 과정을 포함해서 SCSS를 설정하는 순서는 아래와 같습니다.</p>\n<ol>\n<li><code class=\"language-text\">sass</code>와 3가지 로더를 설치합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install sass sass-loader css-loader style-loader --save-dev</code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">webpack.config.js</code> 파일에 아래와 같이 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">main</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/client/js/main.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"js/[name].js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"assets\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">clean</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 생략...</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.scss$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// 웹팩은 뒤에 위치한 로더부터 적용시키기 때문에 먼저 적용되어야 하는 로더가 뒤로 가야한다.</span>\n        <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"style-loader\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"css-loader\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"sass-loader\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ol start=\"3\">\n<li>client 폴더(프론트엔드 코드를 작성하는 폴더)에 styles.scss 파일을 생성하고 main.js 파일에 임포트합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// main.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"../scss/styles.scss\"</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"4\">\n<li><a href=\"https://webpack.js.org/plugins/mini-css-extract-plugin/\">MiniCssExtractPlugin</a>을 설치합니다.</li>\n</ol>\n<p>(이 플러그인을 사용하지 않으면 웹팩 실행 후 js파일과 css파일이 분리되지않고 하나의 js파일로 생성됩니다. 이 플러그인은 CSS를 별도의 파일로 추출하여 CSS가 포함된 JS 파일당 CSS 파일을 생성합니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev mini-css-extract-plugin</code></pre></div>\n<ol start=\"5\">\n<li><code class=\"language-text\">webpack.config.js</code> 파일에 <code class=\"language-text\">MiniCssExtractPlugin</code>을 적용합니다.</li>\n<li>추가적으로 <code class=\"language-text\">watch</code> 속성도 정의합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> MiniCssExtractPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mini-css-extract-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">main</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/client/js/main.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">watch</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// MiniCssExtractPlugin 적용</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">MiniCssExtractPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 이걸 설정해주지 않으면, js 파일명과 똑같은 파일명의 CSS 파일이 생성됨</span>\n      <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"css/styles.css\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"js/[name].js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"assets\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">clean</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 생략...</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.scss$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// MiniCssExtractPlugin 적용</span>\n        <span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>MiniCssExtractPlugin<span class=\"token punctuation\">.</span>loader<span class=\"token punctuation\">,</span> <span class=\"token string\">\"css-loader\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"sass-loader\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 <code class=\"language-text\">npm run dev:assets</code>를 실행하면 웹팩이 실행되면서 SCSS를 적용할 수 있게 됩니다.</p>\n<p><code class=\"language-text\">watch</code>를 true로 설정하면 프론트엔드 파일을 수정하고 저장할 때마다 <code class=\"language-text\">npm run dev:assets</code>을 실행시키지 않아도 됩니다.</p>\n<h2>5. 노드몬 설정 수정하기</h2>\n<p>위와 같은 과정을 거쳤을 때 예기치 않은 동작이 발생했습니다. <code class=\"language-text\">webpack.config.js</code>파일과 <code class=\"language-text\">client</code> 폴더 안의 <code class=\"language-text\">js</code> 파일과 <code class=\"language-text\">scss</code>파일을 수정할 때도 노드몬이 작동했습니다. 노드몬은 <strong>백엔드 코드를 저장할 때만</strong> 재시작이 되도록 설정하고 싶었기 때문에, <strong>클라이언트 관련 파일들은 무시</strong>하도록 설정해줘야 했습니다. 이를 위해서 <code class=\"language-text\">nodemon.json</code> 파일을 생성해야 했는데, 관련 정보를 <a href=\"https://github.com/remy/nodemon\">노드몬 깃허브 저장소</a>에서 발견할 수 있었고, 아래 순서에 따라 파일을 생성하고 작성했습니다.</p>\n<ol>\n<li>루트 디렉터리에 <code class=\"language-text\">nodemon.json</code>파일을 만들고 아래와 같이 작성합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  \"ignore\": [\"webpack.config.js\", \"src/client/*\", \"assets/*\"],\n  \"exec\": \"babel-node src/init.js\"\n}</code></pre></div>\n<ol start=\"2\">\n<li><code class=\"language-text\">package.json</code>파일의 <code class=\"language-text\">scripts</code>의 <code class=\"language-text\">dev:server</code> 속성을 아래와 같이 수정합니다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"scripts\": {\n    \"dev:server\": \"nodemon\",\n    \"dev:assets\": \"webpack\"\n},</code></pre></div>\n<h2>6. 환경 구축 후 폴더 경로의 변화</h2>\n<p>이렇게 개발 환경을 구축했더니 아래와 같은 폴더 구조가 나왔습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">├─ src\n│  ├─ client\n│  │  ├─ js\n│  │  │   ├── components # Component Class를 확장시킨 컴포넌트 파일\n│  │  │   ├── core \n│  │  │   │    └─ Component.js # Component Class 파일\n│  │  │   ├── utils # 유틸 함수\n│  │  │   └── main.js\n│  │  └─ scss\n│  │     ├─ _variables.scss\n│  │     └─ styles.scss\n│  ├─ server.js\n│  └─ views\n│     └─ layout.pug\n├─ node_modules\n├─ babel.config.json # 바벨 설정 파일\n├─ nodemon.json # 노드몬 설정 파일\n├─ package-lock.json\n├─ package.json\n├─ webpack.config.js # 웹팩 설정 파일\n├─ README.md\n└─ .gitignore</code></pre></div>\n<p>이렇게 개발 환경 설정까지 예광탄을 던져봤습니다. 그 다음으로 걱정되는 부분은 <strong>DB 연결</strong>이었기에 그 부분으로 또다시 예광탄을 던졌습니다. DB 연결에 대한 내용은 <a href=\"https://ha-il.github.io/side-project/project-pixel/3-boiler-plate\">다음 포스팅</a>에서 이어가겠습니다.</p>\n<h2>참고자료</h2>\n<ul>\n<li>Babel Setup: <a href=\"https://babeljs.io/setup#installation\">https://babeljs.io/setup#installation</a></li>\n<li>Nodenon github repository: <a href=\"https://github.com/remy/nodemon\">https://github.com/remy/nodemon</a></li>\n<li>Why webpack: <a href=\"https://webpack.kr/concepts/why-webpack/\">https://webpack.kr/concepts/why-webpack/</a></li>\n<li>Webpack Getting Started: <a href=\"https://webpack.js.org/guides/getting-started/#npm-scripts\">https://webpack.js.org/guides/getting-started/#npm-scripts</a></li>\n<li>sass-loader: <a href=\"https://github.com/webpack-contrib/sass-loader\">https://github.com/webpack-contrib/sass-loader</a></li>\n<li>css-loader: <a href=\"https://webpack.js.org/loaders/css-loader/\">https://webpack.js.org/loaders/css-loader/</a></li>\n<li>style-loader: <a href=\"https://webpack.js.org/loaders/style-loader/\">https://webpack.js.org/loaders/style-loader/</a></li>\n<li>MiniCssExtractPlugin: <a href=\"https://webpack.js.org/plugins/mini-css-extract-plugin/\">https://webpack.js.org/plugins/mini-css-extract-plugin/</a></li>\n</ul>","frontmatter":{"title":"[당신의 작업실] 3. 개발 환경 구축하기","date":"June 13, 2023","description":"바벨(Babel), 노드몬(Nodemon), 웹팩(Webpack), SCSS 환경을 구축했습니다.","mobileImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8UlEQVR42j1Ty07bUBT0t3RRKoSA4DwIRVSqlLihQU5s5wFRK7pwSUIS27GDooaWBY8QkFDVlKhShVSxq1BFV2XTD+gHdNG/mWqO4yyO7vG998yZOXOtrBQ7SFgu1qoB4qaLWKGNpOXK3rLewlrFl+C9NPOqPz1ry5q0PCzpLclXy10o0UUWp0pdAVYNRw5Vw8WjjI35lw3MvdjDQn5fIl3uSk3cdKQ5mzBnKEQmAJklTBdxIzxIWB6s5gecfvyKwcUE70bXOB/foLh3KOxYw1oCs06UVIOQIdkQhCsvcW9xq4GaP8Knh38YXN+jP/4h+U73HGqxLVJ5j8Cq0ZEQyWTGLimCGo7QZ6ek2UHGPkb+6CdeWRU8f6ZBG9wh+/YYMb0pNU+3A5GfKnnSgB4oyalkzpAbPOD3it6E1hhis38L+42NrUwWud43aPUh1MK+KFGnhkYKSU4R9JI3G2zYyRFZteACXx7+YvL9N65uf+Hy7g8qzhliemvWmEzlZZQ8rG/3oLCY7nLlYGXIloslvY3cbg/vR59xMJwgOB2j1T+B9trHatkXmQzOkYAzhsvTbnSKEjjL6CkRdCHfxPxmHY+zNp7k6ogVQiMiEml5XqGh3FPWd3qSECQCZicaQwbRjDZqByJJfgQzfPiRoZHjJPMfcoGaWUAr/SUAAAAASUVORK5CYII="},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/5465f7980f87a58ed020c6fec0076952/a22c4/sideProject-512x256x2.png","srcSet":"/static/5465f7980f87a58ed020c6fec0076952/cadb4/sideProject-512x256x2.png 750w,\n/static/5465f7980f87a58ed020c6fec0076952/a22c4/sideProject-512x256x2.png 856w,\n/static/5465f7980f87a58ed020c6fec0076952/7a9e5/sideProject-512x256x2.png 1024w","sizes":"(min-width: 856px) 856px, 100vw"},"sources":[{"srcSet":"/static/5465f7980f87a58ed020c6fec0076952/0b163/sideProject-512x256x2.avif 750w,\n/static/5465f7980f87a58ed020c6fec0076952/1167a/sideProject-512x256x2.avif 856w,\n/static/5465f7980f87a58ed020c6fec0076952/02545/sideProject-512x256x2.avif 1024w","type":"image/avif","sizes":"(min-width: 856px) 856px, 100vw"},{"srcSet":"/static/5465f7980f87a58ed020c6fec0076952/11ba1/sideProject-512x256x2.webp 750w,\n/static/5465f7980f87a58ed020c6fec0076952/024d1/sideProject-512x256x2.webp 856w,\n/static/5465f7980f87a58ed020c6fec0076952/25be2/sideProject-512x256x2.webp 1024w","type":"image/webp","sizes":"(min-width: 856px) 856px, 100vw"}]},"width":856,"height":428}}}}},"previous":{"fields":{"slug":"/side-project/project-pixel/2-prototype/"},"frontmatter":{"title":"[당신의 작업실] 2. SPA 프로토타입 제작과 프로젝트로의 적용"}},"next":null},"pageContext":{"id":"67227912-ae5f-5311-b460-85a37bc5f398","previousPostId":"deceddf3-9033-57a2-b16f-f355fe9e9130","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}