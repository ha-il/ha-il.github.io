{"componentChunkName":"component---src-templates-blog-post-js","path":"/typescript/basics/","result":{"data":{"site":{"siteMetadata":{"title":"하일의 작업실"}},"markdownRemark":{"id":"ae51297b-771e-5b1b-ac46-68f01e3d807f","excerpt":"…","html":"<h2>1. 타입스크립트를 배우면 좋은 이유</h2>\n<ol>\n<li>에러를 사전에 방지해준다.</li>\n</ol>\n<p>자바스크립트는 동적 타입 언어이다. 자바스크립트 런타임은 코드가 실행될 때 자신이 무엇을 해야 할지 결정하기 위해 값의 타입을 확인한다. 그리고 값의 타입에 일치하지 않는 동작을 시도할 때 타입에러가 발생한다. 예를 들면 함수가 아닌 변수를 함수처럼 호출하는 경우 말이다. 함수가 아닌 변수를 호출하는 코드를 작성할 때 에러를 발생시켜주면 런타임 에러를 방지할 수 있을 것이다.</p>\n<p>자바스크립트 내에서는 에러가 아니지만 높은 확률로 에러를 발생시킬 수 있는 코드가 있다. 예를 들어, 객체에 존재하지 않는 속성에 접근할 때 undefined를 반환하는 경우 말이다. undefined를 반환하게 할 것이 아니라, 객체에 존재하지 않는 속성에 접근하는 코드를 작성할 때 에러를 발생시켜주면 런타임 에러를 방지할 수 있을 것이다.</p>\n<p>이처럼 자바스크립트는 코드를 실행해야만 어떤 일이 벌어지는지 확인할 수 있다. 코드를 실행하기 전에 에러를 미리 발견할 수 있다면 좋을 것이다. 이 문제를 정적 타입 검사를 하는 타입스크립트로 해결할 수 있다.</p>\n<ol start=\"2\">\n<li>코드 가이드 및 자동 완성.</li>\n</ol>\n<p>VSCode를 사용할 경우 타입스크립트의 타입추론으로 인한 자동 완성 기능을 활용할 수 있다. 자동완성 기능의 장점은 내가 올바른 변수 또는 프로퍼티에 접근하고 있는지 빠르게 파악할 수 있다는 것이다. 따라서 빠르고 정확하게 코드를 작성할 수 있어서 개발 생산성을 향상시킬 수 있다.</p>\n<h2>2. 변수의 타입 정의</h2>\n<p>변수에 타입을 정의하는 기본적인 형태는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> 변수명<span class=\"token operator\">:</span> 타입 <span class=\"token operator\">=</span> 값<span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">타입</code> 부분에 사용할 수 있는 원시 타입과 예시는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// string, number, boolean</span>\n<span class=\"token keyword\">const</span> myName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">'hail'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myNumber<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">57</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> isTrue<span class=\"token operator\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Array</span>\n<span class=\"token keyword\">const</span> myTeam1<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'정현수'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'원성준'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'고영우'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> myTeam2<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'정현수'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'원성준'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'고영우'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ReadonlyArray: 변경 불가능한 배열을 정의하는 특수 타입</span>\n<span class=\"token keyword\">const</span> readOnlyTeam1<span class=\"token operator\">:</span> ReadonlyArray<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'정현수'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'원성준'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'고영우'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> readOnlyTeam2<span class=\"token operator\">:</span> <span class=\"token keyword\">readonly</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'정현수'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'원성준'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'고영우'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nreadOnlyTeam1<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'누군가'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 에러 발생: Property 'push' does not exist on type 'readonly string[]'</span>\nreadOnlyTeam2<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">'누군가'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 에러 발생: Property 'push' does not exist on type 'readonly string[]'</span>\n\n<span class=\"token comment\">// 튜플(tuple): 배열 길이가 고정되고 각 요소 타입이 정의된 배열</span>\n<span class=\"token keyword\">const</span> bestPlayer<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">57</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'정현수'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 튜플: readonly로 설정 가능하다.</span>\n<span class=\"token keyword\">const</span> bestPlayer<span class=\"token operator\">:</span> <span class=\"token keyword\">readonly</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">57</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'정현수'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nbestPlayer<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'누군가'</span> <span class=\"token comment\">// 에러 발생: Cannot assign to '1' because it is a read-only property.</span>\n\n<span class=\"token comment\">// 튜플: 옵셔널 속성 `?`을 사용할 수 있으나 튜플 요소 끝에만 올 수 있다.</span>\n<span class=\"token comment\">// 옵셔널 속성은 length 속성 타입에 영향을 준다.</span>\n<span class=\"token keyword\">const</span> bestPlayer<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token operator\">?</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">57</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'정현수'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nbestPlayer<span class=\"token punctuation\">.</span>length <span class=\"token comment\">// (property) length: 2 | 3</span>\n\n<span class=\"token comment\">// 튜플: 나머지 요소(rest elements) `...`도 사용할 수 있다.</span>\n<span class=\"token keyword\">const</span> arsenal <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'커브'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'패스트볼'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'슬라이더'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'체인지업'</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">const</span> bestPlayer<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">57</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'정현수'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arsenal<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nbestPlayer<span class=\"token punctuation\">.</span>length <span class=\"token comment\">// (property) length: number</span>\n\n<span class=\"token comment\">// null, undefined</span>\n<span class=\"token keyword\">const</span> empty<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> nothing<span class=\"token operator\">:</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// any: 특정 값으로 인하여 타입 검사 오류가 발생하는 것을 원하지 않을 때 사용한다.</span>\n<span class=\"token keyword\">let</span> obj<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> x<span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 아래의 코드들은 전부 에러 없이 실행된다.</span>\nobj<span class=\"token punctuation\">.</span><span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">obj</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nobj<span class=\"token punctuation\">.</span>bar <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\nobj <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">;</span></code></pre></div>\n<p>위와 같이 변수의 타입정의 방법이 존재하지만, 변수의 경우 타입 표기가 따로 필요하지 않는 경우가 많다. 타입스크립트는 가능하다면 자동으로 코드 내의 있는 타입들을 추론하고자 시도한다. 변수의 타입은 해당 변수의 초깃값의 타입을 바탕으로 추론된다.</p>\n<h2>3. 함수의 타입 정의</h2>\n<p>함수에 타입을 정의하는 기본적인 형태는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">함수명</span><span class=\"token punctuation\">(</span>파라미터명<span class=\"token operator\">:</span> 파라미터타입<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> 반환값타입 <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>예시는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 함수</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">sayFighting</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, 화이팅!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 옵셔널 파라미터</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">introducePlayer</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> team<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>team<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> 선수</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>타입스크립트는 <code class=\"language-text\">return</code>문을 바탕으로 반환 타입을 추론할 수 있기 때문에, 함수의 반환 타입을 명시하지 않고 생략하는 경우도 있다. 다만, 함수의 경우 문서화를 위해서 파라미터와 반환 값의 타입을 명시하기도 한다.</p>\n<h3>3.1 함수 타입 표현식</h3>\n<p>함수 타입을 정의하는 또다른 방법으로는 함수 타입 표현식이 있다. 함수 타입 표현식은 화살표 함수와 문법적으로 유사하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// 반환 값에 대한 타입을 ':'가 아닌, '=>'로 정의했다.</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">GreetFunction</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">greeter</span><span class=\"token punctuation\">(</span>fn<span class=\"token operator\">:</span> GreetFunction<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">printToConsole</span><span class=\"token punctuation\">(</span>s<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n \n<span class=\"token function\">greeter</span><span class=\"token punctuation\">(</span>printToConsole<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>3.2 콜백 함수의 옵셔널 파라미터</h3>\n<p>콜백에 대한 함수 타입을 작성할 때, 해당 인수 없이 호출할 의도가 없는 한, 선택적 매개변수를 사용하지 않는 것이 좋다. 아래 예시를 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// callback의 파라미터 index를 옵셔널 파라미터로 설정했다는 것은....</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">myForEach</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 아래의 두 호출이 동작하기를 바라는 것이다.</span>\n<span class=\"token function\">myForEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">myForEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>콜백 함수의 파라미터를 옵셔널 파라미터로 지정한 예시인데, 위 예시는 아래와 같은 문제를 발생시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// callback의 파라미터 index를 옵셔널 파라미터로 설정했다는 것은....</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">myForEach</span><span class=\"token punctuation\">(</span>arr<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>arg<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> arr<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// callback에 index로 undefined가 제공될 수도 있다는 의미이다.</span>\n    <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">myForEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 에러 발생: 타입스크립트는 undefined가 될 수도 있는 값에 `toFixed()` 메서드를 사용하는 것을 허용하지 않는다.</span>\n<span class=\"token function\">myForEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>3.3 함수 타입 정의 시 사용되는 타입</h3>\n<ul>\n<li><strong>void</strong></li>\n</ul>\n<p>void는 값을 반환하지 않는 함수의 반환 값을 의미한다. 함수에 return문이 없거나, 명시적으로 값을 반환하지 않을 때, 추론되는 타입이다.</p>\n<p>자바스크립트에서는, 아무것도 반환하지 않는 함수는 암묵적으로 undefined 값을 반환하지만 타입스크립트에서 void와 undefined는 같은 것으로 간주되지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// function noop(): void</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">noop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong>unknown</strong></li>\n</ul>\n<p>unknown 타입은 모든 값을 나타낸다. any 타입과 유사하지만, unknown 타입에는 어떤 값을 할당하는 것이 유효하지 않기 때문에 더 안전하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">f1</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  a<span class=\"token punctuation\">.</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">f2</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">unknown</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  a<span class=\"token punctuation\">.</span><span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 에러 발생: 'a' is of type 'unknown'.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong>never</strong></li>\n</ul>\n<p>never 타입은 결코 관측될 수 없는 값을 의미한다. 반환 타입에서는, 해당 함수가 예외를 발생시키거나, 프로그램 실행을 종료함을 의미한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">fail</span><span class=\"token punctuation\">(</span>msg<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">never</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>never은 TypeScript가 유니온에 아무것도 남아있지 않다고 판단했을 때 또한 나타난다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span>x<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> x <span class=\"token operator\">===</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> x <span class=\"token operator\">===</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something else</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'never' 타입이 됨!</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>3.4 나머지 매개변수와 인수</h3>\n<ul>\n<li><strong>나머지 매개변수(Rest Parameter)</strong></li>\n</ul>\n<p>자바스크립트에서 '나머지 매개변수'는 함수에 전달된 인자들의 목록을 배열로 전달받는다. 따라서 파라미터의 타입 역시 배열로 정의해주면 된다. 정의해주지 않을 경우 암묵적으로 any[]로 정의된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>m<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> m<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> n <span class=\"token operator\">*</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 'a' gets value [10, 20, 30, 40]</span>\n<span class=\"token keyword\">const</span> a <span class=\"token operator\">=</span> <span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><strong>나머지 인수(Rest Argument)</strong></li>\n</ul>\n<p>스프레드 문법 <code class=\"language-text\">...</code>을 이용하여 함수에게 배열의 요소를 인자로 전달할 수 있다. 다만 아래 예시와 같이 예상치 못한 에러가 발생할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> args <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// args의 타입은 `number[]`로 추론된다.</span>\n<span class=\"token comment\">// const args: number[]</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Error: A spread argument must either have a tuple type or be passed to a rest parameter.</span>\n<span class=\"token comment\">// 에러 발생: 스프레드 인수는 튜플 유형이거나 나머지 매개변수로 전달되어야 합니다.</span>\n<span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span></code></pre></div>\n<p>스프레드 문법을 사용해서 인자를 두 개 전달했는데도 에러가 발생한다. 이는 <code class=\"language-text\">args</code>가 <code class=\"language-text\">number[]</code> 타입으로 추론되고 있기 때문이다. 명시적으로 2개의 인자를 가지는 배열로 추론되지 않기 때문에 타입스크립트가 에러를 발생시키는 것이다.</p>\n<p>이런 상황에서 <a href=\"https://www.typescriptlang.org/ko/docs/handbook/2/functions.html#%EB%82%98%EB%A8%B8%EC%A7%80-%EC%9D%B8%EC%88%98rest-argument\">공식문서</a>가 제시하는 해결책은 <code class=\"language-text\">as const</code>를 사용하는 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> args <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span>\n<span class=\"token comment\">// args의 타입은 `readonly [8, 5]`로 추론된다.</span>\n<span class=\"token comment\">// const args: readonly [8, 5]</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span>a<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span> </code></pre></div>","frontmatter":{"title":"[타입스크립트] 변수와 함수의 타입 정의","date":"September 21, 2023","description":"타입스크립트의 변수와 함수 타입 정의를 다뤘습니다.","mobileImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9ElEQVR42j1SS28SURQ+A4VCtXFntRJtIwIzPC3U2iowMMyAJD4WbdIubLRpNG5qq0GICzUkTTcaFy6MC+PCLtz3V9hf4L/5zHcuw+Lk3syc873OFck2MeO0MVfpIuq0IJkGYvm2fpNbdcyVAy0r10Sy5Ot9Jm/+sSeW9yBpc0+UfAgBk+VAG2aLHVyodBHJuUgUfUjWhVyuQJY2IKk1yNI6ZHlDBwketVtKThLeWUJkK+eqMiqM2K6eUaeN2pNnGBx/wfPDEfaORhiefIXT3VZyknJWgZ2WcVLpGoWJCRsVqtVsE3LzHuqb+3hz8gu7H35jb/wHR8c/cffRU1i2a2xnmwpsTWqWrqgsWQoUjOrCzOLFDhZrPVz136E0Okf1/TmutA6QWg10mCIu3u7pGS94mqXugBmQhTZMJt6U8fpaHwveAPWPfzE4/Qf74QCL1QDRydK4KColaMQ2CxWis8JgCcifrMbmPkafTzH8dobxjzMcjr+j1t9RqyrEdtWdvoyCp4olzI4nQdmg+aTryHS28HL4CbsHQ2y/eoutF6+x3HiscXAmXuiYvLnQUCGtxqYWXG20wqeUvq/PRG6sQ66tQlJ3dIgREYwgxq7JlLMyv/JgCjINNtPQ98goNKOij0vVPuZXetpHcnXBhZYDFUSlBPwPKwg5FHL3cqMAAAAASUVORK5CYII="},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/205369369a5522111ce43a38f93136be/a22c4/ts-512x256x2.png","srcSet":"/static/205369369a5522111ce43a38f93136be/cadb4/ts-512x256x2.png 750w,\n/static/205369369a5522111ce43a38f93136be/a22c4/ts-512x256x2.png 856w,\n/static/205369369a5522111ce43a38f93136be/7a9e5/ts-512x256x2.png 1024w","sizes":"(min-width: 856px) 856px, 100vw"},"sources":[{"srcSet":"/static/205369369a5522111ce43a38f93136be/0b163/ts-512x256x2.avif 750w,\n/static/205369369a5522111ce43a38f93136be/1167a/ts-512x256x2.avif 856w,\n/static/205369369a5522111ce43a38f93136be/02545/ts-512x256x2.avif 1024w","type":"image/avif","sizes":"(min-width: 856px) 856px, 100vw"},{"srcSet":"/static/205369369a5522111ce43a38f93136be/11ba1/ts-512x256x2.webp 750w,\n/static/205369369a5522111ce43a38f93136be/024d1/ts-512x256x2.webp 856w,\n/static/205369369a5522111ce43a38f93136be/25be2/ts-512x256x2.webp 1024w","type":"image/webp","sizes":"(min-width: 856px) 856px, 100vw"}]},"width":856,"height":428}}}}},"previous":{"fields":{"slug":"/react/deep-dive/testing-library/"},"frontmatter":{"title":"[리액트 딥 다이브] 리액트에서 소프트웨어 테스트하기"}},"next":{"fields":{"slug":"/typescript/object/"},"frontmatter":{"title":"[타입스크립트] 객체 타입 정의"}}},"pageContext":{"id":"ae51297b-771e-5b1b-ac46-68f01e3d807f","previousPostId":"e0067c1c-2af8-5c24-86c0-70c70699061c","nextPostId":"baca66b7-b14f-5120-8a7c-86d15211378b"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}